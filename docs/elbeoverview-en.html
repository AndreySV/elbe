<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Embedded Linux Build Environment (elbe) â€¢ ELBE</title>
    
    
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Embedded Linux Build Environment (elbe)">
	
	
	
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="https://elbe-rfs.org/images/elbe-icon.png">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en_US.UTF-8">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Embedded Linux Build Environment (elbe)">
	
	<meta property="og:url" content="https://elbe-rfs.org/docs/elbeoverview-en.html">
	<meta property="og:site_name" content="ELBE">

    <link rel="canonical" href="https://elbe-rfs.org/docs/elbeoverview-en.html">

    <link href="https://elbe-rfs.org/atom.xml" type="application/atom+xml" rel="alternate" title="ELBE Atom Feed">
    <link href="https://elbe-rfs.org/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="https://elbe-rfs.org/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="https://elbe-rfs.org/js/vendor/html5shiv.min.js"></script>
      <script src="https://elbe-rfs.org/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="https://elbe-rfs.org/" class="site-title"><img src="https://elbe-rfs.org/images/elbe-logo-small.png"></a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">ELBE</a></li>
	
    
        
    
    <li><a href="https://elbe-rfs.org/download" >Download</a></li>
  
    
        
    
    <li><a href="https://elbe-rfs.org/docs" >Docs</a></li>
  
    
        
    
    <li><a href="https://elbe-rfs.org/support" >Support</a></li>
  
    
        
    
    <li><a href="https://elbe-rfs.org/devel" >Devel</a></li>
  
</ul>
    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>ELBE <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="https://elbe-rfs.org/download">
        
        <div class="title">Download</div>
        <p class="excerpt">Get Binary and Source packages</p>
      </a>
    </li><li>
      <a href="https://elbe-rfs.org/docs">
        
        <div class="title">Docs</div>
        <p class="excerpt">Documentation and man-pages</p>
      </a>
    </li><li>
      <a href="https://elbe-rfs.org/support">
        
        <div class="title">Support</div>
        <p class="excerpt">Community and commercial support</p>
      </a>
    </li><li>
      <a href="https://elbe-rfs.org/devel">
        
        <div class="title">Devel</div>
        <p class="excerpt">Development details</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <h1>Embedded Linux Build Environment (elbe)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Debian based system to generate root-filesystems for embedded devices.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="general-notes">General Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Generally root-filesystem creation faces the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creation of root-filesystem for a specific architecture.</p>
</li>
<li>
<p>Generation of a development environment for the specific architecture.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Trying to solve this via cross-compilation of the required packages,<br>
we face the following problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Many packages are not designed and tested for cross-compilation.</p>
</li>
<li>
<p>Big projects consume a significant amount of time to cross compile.</p>
</li>
<li>
<p>Dependencies are not resolved automatically. The developer is required to<br>
manually find out which package versions of dependencies are required.</p>
</li>
<li>
<p>Changes and patches to the packages need to be updated for newer versions.<br>
This process makes an update a very time consuming process.</p>
</li>
<li>
<p>One must make sure that the same toolchain is used in the development<br>
environment and in the root-filesystem.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Elbe takes a different approach for solving these problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard packages are not self compiled.<br>
Elbe uses the Debian distributions binary packages.</p>
</li>
<li>
<p>Own applications are not cross compiled.<br>
They are built natively on the target architecture in a chroot environment<br>
using qemu.</p>
</li>
<li>
<p>The root-filesystem is a subset of the Debian system inside the chroot<br>
environment. This implicitly ensures, that the same toolchain is used<br>
on the development machine and on the target.</p>
</li>
<li>
<p>Updating, adding or removing a package is done via Debians package-management<br>
(apt) which also resolves package dependencies.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Elbe is shipped as Debian package. This package will pull in the necessary<br>
dependencies.</p>
</div>
<div class="paragraph">
<p>Configure <code>/etc/apt/sources.list.d</code> appropriately:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo 'deb http://debian.linutronix.de/elbe jessie main' &gt;&gt; /etc/apt/sources.list.d/elbe.list</pre>
</div>
</div>
<div class="paragraph">
<p>Optionally the public key for the repo can be installed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>wget http://debian.linutronix.de/elbe/elbe-repo.pub &amp;&amp; apt-key add elbe-repo.pub</pre>
</div>
</div>
<div class="paragraph">
<p>Update the package list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>aptitude update</pre>
</div>
</div>
<div class="paragraph">
<p>and install elbe using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>aptitude install elbe</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Elbe system consists of the program <code>elbe</code> which is implemented<br>
in Python. Similar to git, it can be called with several sub commands.<br>
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe &lt;command&gt;
elbe initvm create --directory /scratch/example example.xml
elbe chg_archive example.xml archive.tar.bz2</pre>
</div>
</div>
<div class="paragraph">
<p>An Elbe project consists of an XML file that describes the project.</p>
</div>
<div class="paragraph">
<p>This xml File is processed inside a virtual machine, because we need root<br>
privileges to create the Rootfilesystem.<br>
This virtual machine is called <em>initvm</em> in the following text.</p>
</div>
<div class="paragraph">
<p>When an xml File is now submitted into the initvm, the following happens:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debian&#8217;s <em>debootstrap</em> utility is used to setup a Debian base system.</p>
</li>
<li>
<p>The packages specified in the package list of the XML file are installed<br>
to the base system. The result of this is called the build environment.</p>
</li>
<li>
<p>A copy of the environment is used as the target system.<br>
There is a set of different modes for this copy.</p>
</li>
<li>
<p>If the XML file contains an archive, it will be unpacked into the target, so<br>
the fine-tuning commands can use the content of the archive, too.</p>
</li>
<li>
<p>Inside a chroot environment, the fine-tuning commands are applied to the<br>
target.</p>
</li>
<li>
<p>The archive from the XML file is unpacked again. This is to ensure the target<br>
filesystem contains all files from the archive, even if some of them have<br>
been deleted by a fine-tuning command.</p>
</li>
<li>
<p>According to what is specified in the XML file, the target filesystem is then<br>
baked into a tar archive and/or a filesystem image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This diagram illustrates the complete process:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="elbe-process.png" alt="elbe process"></span></p>
</div>
<div class="paragraph">
<p>The following figure shows the steps performed inside the build VM during the<br>
build process of the target. The highlighted steps are performed inside a<br>
chroot environment:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="emu-process.png" alt="emu process"></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">No automatic startup of services during package installation</div>
<div class="paragraph">
<p>On regular Debian installations, init scripts installed by packages are<br>
started automatically during the post-installation step. Please note that<br>
Elbe <strong>will not start any services during package installation</strong>.</p>
</div>
<div class="paragraph">
<p>As a consequence, packages that require a specific service to be running will<br>
cause problems during installation. This typically includes database<br>
application packages, which set up a database in their postinst script and<br>
rely on the database server to be already running.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-initvm-and-build-a-first-xml-file-from-the-examples">Create initvm and build a first xml file from the examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create an initvm and make that initvm build a first Rootfilesystem,<br>
use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe initvm create --directory ~/elbe-initvm /usr/share/doc/elbe-doc/examples/x86_32-pc-hdimg-minimal-grub-wheezy.xml</pre>
</div>
</div>
<div class="paragraph">
<p>This will take quite a while.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>Only one initvm may run on a single computer.<br>
If an initvm is already running in the background, this<br>
command will exit with a failure notice.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The initvm will keep on running, after this command. Further xml Files may be built using</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe initvm submit --directory ~/elbe-initvm /usr/share/doc/elbe-doc/examples/x86_32-pc-hdimg-minimal-grub-wheezy.xml</pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The initvm will not be restarted upon a reboot of the machine.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>If you need to start the initvm again, use</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe initvm start --directory ~/elbe-initvm</pre>
</div>
</div>
<div class="sect2">
<h3 id="example-xml-files">Example XML Files</h3>
<div class="paragraph">
<p>A root-filesystem-project is described with a XML file.</p>
</div>
<div class="paragraph">
<p>Elbe ships with a set of example XML files.</p>
</div>
<div class="paragraph">
<p>The following XML file describes a simple system in the default full copy mode.<br>
The root filesystem is essentially identical to the build environment and it<br>
will be saved as <code>nfsroot.tar.gz</code></p>
</div>
<div class="listingblock">
<div class="title">example.xml</div>
<div class="content">
<pre>&lt;ns0:RootFileSystem xmlns:ns0="https://www.linutronix.de/projects/Elbe"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	created="2009-05-20T08:50:56" revision="6"
	xsi:schemaLocation="https://www.linutronix.de/projects/Elbe dbsfed.xsd"&gt;
	&lt;project&gt;
		&lt;name&gt;ARMexample&lt;/name&gt;
		&lt;version&gt;08.15&lt;/version&gt;
		&lt;description&gt;full featured debian system&lt;/description&gt;
		&lt;buildtype&gt;armel&lt;/buildtype&gt;
		&lt;mirror&gt;
			&lt;primary_host&gt;debian.tu-bs.de&lt;/primary_host&gt;
			&lt;primary_path&gt;/debian&lt;/primary_path&gt;
			&lt;primary_proto&gt;http&lt;/primary_proto&gt;
			&lt;url-list&gt;
				&lt;url&gt;
					&lt;binary&gt;http://debian.linutronix.de/elbe wheezy main&lt;/binary&gt;
				&lt;/url&gt;
			&lt;/url-list&gt;
		&lt;/mirror&gt;
		&lt;noauth /&gt;
		&lt;suite&gt;wheezy&lt;/suite&gt;
		&lt;buildimage&gt;
			&lt;kinitrd&gt;elbe-bootstrap&lt;/kinitrd&gt;
		&lt;/buildimage&gt;
	&lt;/project&gt;
	&lt;target&gt;
		&lt;hostname&gt;myARM&lt;/hostname&gt;
		&lt;domain&gt;tec.linutronix.de&lt;/domain&gt;
		&lt;passwd&gt;foo&lt;/passwd&gt;
		&lt;console&gt;ttyS0,115200&lt;/console&gt;
		&lt;package&gt;
			&lt;tar&gt;
				&lt;name&gt;nfsroot.tar.gz&lt;/name&gt;
			&lt;/tar&gt;
		&lt;/package&gt;
		&lt;finetuning&gt;
		&lt;/finetuning&gt;
		&lt;pkg-list&gt;
			&lt;pkg&gt;bash&lt;/pkg&gt;
			&lt;pkg&gt;openssh-server&lt;/pkg&gt;
		&lt;/pkg-list&gt;
	&lt;/target&gt;
&lt;/ns0:RootFileSystem&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>To generate the project directory from the XML file the following command is<br>
used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe initvm submit --directory ~/elbe-initvm example.xml</pre>
</div>
</div>
<div class="paragraph">
<p>The directory <code>~/elbe-initvm</code> must contain a running initvm.<br>
If an initvm has not been created yet, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe initvm create --directory ~/elbe-initvm example.xml</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-the-subset-that-is-extracted-as-the-root-filesystem">Changing the subset that is extracted as the root filesystem</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Elbe has several methods to select the subset that is packaged as the<br>
root-filesystem.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The finetuning section allows to remove, copy or move files before the<br>
archive will be extracted and the target image is generated.</p>
</li>
<li>
<p>The <em>norecommend</em> tag.</p>
</li>
<li>
<p>The initial copy has several modes, which allow to extract very small subsets.</p>
</li>
<li>
<p>The embedded archive.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="finetuning">Finetuning</h3>
<div class="paragraph">
<p>The finetuning section allows to copy, move and delete files in the<br>
root-filesystem. Additionally it is possible to run commands. Here is an<br>
example finetuning section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;finetuning&gt;
    &lt;rm&gt;/usr/share/doc&lt;/rm&gt;						<b class="conum">(1)</b>
    &lt;mkdir&gt;/mydir&lt;/mkdir&gt;						<b class="conum">(2)</b>
    &lt;mknod opts="c 1 5"&gt;/dev/zero&lt;/mknod&gt;				<b class="conum">(3)</b>
    &lt;buildenv_mkdir&gt;/mydir&lt;/buildenv_mkdir&gt;				<b class="conum">(4)</b>
    &lt;cp path="/copy/me"&gt;/my/destination&lt;/cp&gt;				<b class="conum">(5)</b>
    &lt;buildenv_cp path="/copy/me"&gt;/my/destination&lt;/buildenv_cp&gt;		<b class="conum">(6)</b>
    &lt;b2t_cp path="/copy/me"&gt;/my/name/on/target&lt;/b2t_cp&gt;			<b class="conum">(7)</b>
    &lt;t2b_cp path="/copy/me"&gt;/my/name/on/buildenv&lt;/b2t_cp&gt;		<b class="conum">(8)</b>
    &lt;mv path="/var"&gt;/var_ro&lt;/mv&gt;					<b class="conum">(9)</b>
    &lt;buildenv_mv path="/var"&gt;/var_ro&lt;/buildenv_mv&gt;			<b class="conum">(10)</b>
    &lt;command&gt;echo "T0:23:respawn:/sbin/getty -L ttyO0 115200 vt102" &amp;gt;&amp;gt; /etc/inittab&lt;/command&gt;	<b class="conum">(11)</b>
    &lt;buildenv_command&gt;some_command&lt;/buildenv_command&gt;			<b class="conum">(12)</b>
    &lt;purge&gt;apt&lt;/purge&gt;							<b class="conum">(13)</b>
    &lt;addgroup&gt;mygroup&lt;/addgroup&gt;							<b class="conum">(14)</b>
    &lt;adduser groups='mygroup,audio' passwd='huhu' shell='/bin/zsh'&gt;manut&lt;/adduser&gt;							<b class="conum">(15)</b>
    &lt;adduser passwd='test' shell='/bin/bash'&gt;test&lt;/adduser&gt;							<b class="conum">(15)</b>
  &lt;/finetuning&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Remove the directory <em>/usr/share/doc</em> from the target.</p>
</li>
<li>
<p>Create the directory <em>/mydir</em> on the target.</p>
</li>
<li>
<p>Create the character device <em>/dev/zero</em> with major number 1 and<br>
minor number 5 on the target.</p>
</li>
<li>
<p>Create the directory <em>/mydir</em> in the build environment.</p>
</li>
<li>
<p>Copy <em>/copy/me</em> on the target to <em>/my/destination</em>.</p>
</li>
<li>
<p>Copy <em>/copy/me</em> in the build environment to <em>/my/destination</em>.</p>
</li>
<li>
<p>Copy <em>/copy/me</em> from the build environment to <em>/my/name/on/target</em> on<br>
the target.</p>
</li>
<li>
<p>Copy <em>/copy/me</em> from the target to <em>/my/name/on/buildenv</em> in the build<br>
environment.</p>
</li>
<li>
<p>Move <em>/var</em> to <em>/var/ro</em> in the target root filesystem.</p>
</li>
<li>
<p>Move <em>/var</em> to <em>/var/ro</em> in the build environment.</p>
</li>
<li>
<p>Execute the given command in the target root filesystem. In this example<br>
a line is added to <em>/etc/inittab</em> in order to permit logins via the serial<br>
console.</p>
</li>
<li>
<p>Execute <em>some_command</em> in the build environment.</p>
</li>
<li>
<p>Remove the <em>apt</em> package from the target root filesystem using<br>
<em>dpkg --purge</em>.</p>
</li>
<li>
<p>A group with the name <em>mygroup</em> is created.</p>
</li>
<li>
<p>Adds the user <em>manut</em> with <em>/bin/zsh</em> as default shell. A group with the<br>
same name as the user is always created and is the default group.<br>
manut is additionally added to the groups <em>mygroup</em> and <em>audio</em>. manuts<br>
login password is <em>huhu</em>.<br>
The <em>groups</em> attribute is optional, <em>passwd</em> and <em>shell</em> are mandatory.</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The copy, mv, and rm commands operate on full directories.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="useful-directories-to-trim-with-finetuning">Useful directories to trim with finetuning</h3>
<div class="paragraph">
<p>This section provides some useful directories that can be safely removed<br>
to get a smaller target image.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;finetuning&gt;
	&lt;rm&gt;/usr/share/doc&lt;/rm&gt;				<b class="conum">(1)</b>
	&lt;rm&gt;var/cache/apt/archives/*&lt;/rm&gt;		<b class="conum">(2)</b>
	&lt;rm&gt;var/cache/apt/pkgcache.bin&lt;/rm&gt;
	&lt;rm&gt;var/cache/apt/srcpkgcache.bin&lt;/rm&gt;
	&lt;rm&gt;var/lib/apt/lists/*_Release&lt;/rm&gt;
	&lt;rm&gt;var/lib/apt/lists/*_Packages&lt;/rm&gt;
	&lt;rm&gt;var/lib/apt/lists/*_Sources&lt;/rm&gt;

	&lt;rm&gt;boot&lt;/rm&gt;					<b class="conum">(3)</b>

	&lt;rm&gt;lib/modules/2.6.32-5-versatile/&lt;/rm&gt;	<b class="conum">(4)</b>
	&lt;rm&gt;var/cache/man/*&lt;/rm&gt;			<b class="conum">(5)</b>
	&lt;rm&gt;var/cache/elbe&lt;/rm&gt;				<b class="conum">(6)</b>
	&lt;rm&gt;var/cache/debconf/*&lt;/rm&gt;			<b class="conum">(7)</b>
&lt;/finetuning&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The doc files are not necessary on an embedded target.</p>
</li>
<li>
<p>The apt cache can be downloaded again if necessary.</p>
</li>
<li>
<p>The boot directory contains the kernel used for the VM.<br>
On embedded targets the kernel is normally loaded by the bootloader.</p>
</li>
<li>
<p>The kernel modules for the standard Debian kernel.</p>
</li>
<li>
<p>The man page cache</p>
</li>
<li>
<p>The full copy mode will also copy elbe onto the root-filesystem.</p>
</li>
<li>
<p>debconf cache is also not necessary</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="archive">Archive</h3>
<div class="paragraph">
<p>It&#8217;s also possible to include an archive into the XML file, that is unpacked<br>
into the target root-filesystem after the finetuning step.<br>
This archive must be a bzip2 compressed tar (.tar.bz2) and the following<br>
command can be used to embed the archive into the XML file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>elbe chg_archive &lt;xmlfile&gt; archive.tar.bz2</pre>
</div>
</div>
<div class="paragraph">
<p>This feature is useful to place custom configuration-files into the final image.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="slimming-the-root-filesystem-with-the-different-modes">Slimming the root filesystem with the different modes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The copying process has several modes. The mode is configured in the <em>target</em><br>
tag. It needs to be the tag before <em>finetuning</em>.</p>
</div>
<div class="paragraph">
<p>The following commented example illustrates where the mode is configured.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;target&gt;
    &lt;hostname&gt;example&lt;/hostname&gt;
    &lt;domain&gt;example.com&lt;/domain&gt;
    &lt;passwd&gt;foo&lt;/passwd&gt;
    &lt;package&gt;
	    &lt;tar&gt;nfsroot.tar.gz&lt;/tar&gt;
    &lt;/package&gt;

    &lt;diet /&gt;        <b class="conum">(1)</b>

    &lt;norecommend /&gt; <b class="conum">(2)</b>

    &lt;finetuning \&gt;
    &lt;pkg-list&gt;
	    &lt;pkg&gt;bash&lt;/pkg&gt;
    &lt;/pkg-list&gt;

  &lt;/target&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The mode is configured at this place, leaving it out, enables the default<br>
mode.</p>
</li>
<li>
<p><em>norecommend</em> should be placed here.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="norecommend">norecommend</h3>
<div class="paragraph">
<p><em>norecommend</em> disables installation of recommended packages. This is a frequent<br>
cause for big root-filesystems. Installed programs will still work, but some<br>
functionality requiring external programs might be disabled.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>This is not strictly a mode as described in the following paragraphs.<br>
It can be combined with any of them, and the following modes are mutually<br>
exclusive.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="default">default</h3>
<div class="paragraph">
<p>The default mode generates a full copy of the build image.<br>
This mode is the easiest to use, but its not possible to generate images<br>
which have the Debian package management removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="setsel">setsel</h3>
<div class="paragraph">
<p>The setsel mode can be used to generate images which only contain <em>dpkg</em>,<br>
and offers a more fine-grained control on which packages are installed.</p>
</div>
<div class="paragraph">
<p>The recommended usage is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generate an image in the default mode.</p>
</li>
<li>
<p>Run the image and use aptitude to purge unwanted packages.</p>
</li>
<li>
<p>Maybe even use dpkg to remove apt and aptitude.</p>
</li>
<li>
<p>Then generate the list of selected Packages using<br>
<code>dpkg --get-selections &gt; selections.list</code></p>
</li>
<li>
<p>Transfer this file to the host System.</p>
</li>
<li>
<p>Use <code>elbe setsel &lt;xmlfile&gt; selections.list</code><br>
to import the pkg-list into the XML file.</p>
</li>
<li>
<p>Rebuild using setsel mode.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">How it works</div>
<div class="paragraph">
<p>The setsel mode works by feeding the pkg list to <code>dpkg --set-selections</code> in<br>
the target image copy. It has the advantage that there is no need to cope with<br>
some unregistered configuration files.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="diet">diet</h3>
<div class="paragraph">
<p>Diet Mode only copies the files that are referenced in the Package management.<br>
It resolves the dependencies so that one does not need to reference library<br>
packages.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">But</div>
<div class="paragraph">
<p>Some packages rely on files generated in the post-inst scripts, which are not<br>
tracked by the package management. Work is in progress to execute the post-inst<br>
scripts in the target copy, but there are still some problems with<br>
corner-cases, when dependencies of these scripts get removed in the<br>
<em>finetuning</em>.</p>
</div>
<div class="paragraph">
<p>These Errors are hard to find. And slow down development of an RFS.<br>
Diet Mode is intended to build small root-filesystems. E.g. to<br>
add some packages, like openssh-server, to a busybox based system.</p>
</div>
<div class="paragraph">
<p>Do not use this for normal filesystems.</p>
</div>
<div class="paragraph">
<p>This also holds for the <em>tighten</em> mode.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tighten">tighten</h3>
<div class="paragraph">
<p>Tighten mode only extracts the files referenced by the packages in <em>pkg-list</em>.<br>
No dependencies are resolved.<br>
This mode is intended for compatibility with old XML files, do not use in<br>
new elbe projects.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cdrom-functionality">CDROM Functionality</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Elbe creates a CDROM iso image with all the installed packages.<br>
It is created in the build directory, and its filename is <code>install.iso</code><br>
This can also serve as an installation source.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    &lt;mirror&gt;
	    &lt;cdrom&gt;/home/user/elbe-example/install.iso&lt;/cdrom&gt;
    &lt;/mirror&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-reports">Install Reports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The build process also creates a report file in asciidoc format:<br>
<code>elbe-report.txt</code>  can be converted to html using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>asciidoc elbe-report.txt</pre>
</div>
</div>
<div class="paragraph">
<p>This report lists all files in the root-file-system, including the origin<br>
Debian package.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="validation">Validation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After a build the <code>source.xml</code> file includes informations about all<br>
installed packages and versions. If this information is already present in<br>
a file used with <code>elbe create</code> the installed package versions and md5 hashes<br>
are validated and a report is printed and saved to <code>validation.txt</code>. This<br>
file is also in asciidoc format.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xml-reference">XML Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section is a step by step explanation of the ARM example.</p>
</div>
<div class="paragraph">
<p>The XML file starts with the following header, which should always be the same:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;ns0:RootFileSystem xmlns:ns0="https://www.linutronix.de/projects/Elbe"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     created="2009-05-20T08:50:56" revision="6"
     xsi:schemaLocation="https://www.linutronix.de/projects/Elbe dbsfed.xsd"&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>After this header follows the project description.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	&lt;project&gt;
		&lt;name&gt;ARMexample&lt;/name&gt;
		&lt;version&gt;08.15&lt;/version&gt;
		&lt;mirror&gt;
			&lt;primary_host&gt;debian.tu-bs.de&lt;/primary_host&gt;	<b class="conum">(1)</b>
			&lt;primary_path&gt;/debian&lt;/primary_path&gt;
			&lt;primary_proto&gt;http&lt;/primary_proto&gt;
			&lt;url-list&gt;					<b class="conum">(2)</b>
				&lt;url&gt;
					&lt;binary&gt;http://debian.linutronix.de/elbe wheezy main&lt;/binary&gt;
				&lt;/url&gt;
			&lt;/url-list&gt;

		&lt;/mirror&gt;
		&lt;noauth /&gt; 						<b class="conum">(3)</b>
		&lt;suite&gt;wheezy&lt;/suite&gt;					<b class="conum">(4)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <em>mirror</em> tag contains<br>
<em>primary_host</em>, <em>primary_path</em> and <em>primary_proto</em>.<br>
It describes the Debian mirror used.</p>
</li>
<li>
<p>The <em>url-list</em> can contain additional package sources.</p>
</li>
<li>
<p>The <em>noauth</em> tag can be used to disable authentication if custom<br>
unsigned packages are supposed to be installed.</p>
</li>
<li>
<p>The suite selects the distribution codename used from the primary mirror.</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>the <em>project</em> tag isn&#8217;t closed yet.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The following section describes the virtual machine in which the<br>
debian-installer is exectued and custom packages can be build.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>		&lt;buildimage&gt;
			&lt;arch&gt;armel&lt;/arch&gt;				<b class="conum">(1)</b>
			&lt;size&gt;20G&lt;/size&gt;				<b class="conum">(2)</b>
			&lt;mem&gt;256&lt;/mem&gt;					<b class="conum">(3)</b>
			&lt;interpreter&gt;qemu-system-arm&lt;/interpreter&gt;	<b class="conum">(4)</b>
			&lt;kinitrd&gt;elbe-bootstrap&lt;/kinitrd&gt;		<b class="conum">(5)</b>
			&lt;console&gt;ttyAMA0,115200n1&lt;/console&gt;		<b class="conum">(6)</b>
			&lt;machine&gt;versatilepb&lt;/machine&gt;			<b class="conum">(7)</b>
			&lt;NIC&gt;
				&lt;model&gt;smc91c111&lt;/model&gt;
				&lt;MAC&gt;de:ad:be:ef:be:05&lt;/MAC&gt;
			&lt;/NIC&gt;
			&lt;portforwarding&gt;				<b class="conum">(8)</b>
				&lt;forward&gt;
					&lt;proto&gt;tcp&lt;/proto&gt;
					&lt;buildenv&gt;22&lt;/buildenv&gt;
					&lt;host&gt;5022&lt;/host&gt;
				&lt;/forward&gt;
			&lt;/portforwarding&gt;
			&lt;pkg-list&gt;					<b class="conum">(9)</b>
				&lt;pkg&gt;buildd&lt;/pkg&gt;
			&lt;/pkg-list&gt;
		&lt;/buildimage&gt;
	&lt;/project&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><em>arch</em> is the Debian architecture of the target. (optional)</p>
</li>
<li>
<p><em>size</em> is the size of the hard-disk image. (optional)</p>
</li>
<li>
<p><em>mem</em> controls the amount of RAM that is allocated to the virtual machine.<br>
(optional)</p>
</li>
<li>
<p>The <em>interpreter</em> is either <em>qemu-system-&lt;arch&gt;</em> or <em>qemu-kvm</em>.<br>
  Usage of kvm is usually only possible, when the target is <em>x86</em>.<br>
(optional)</p>
</li>
<li>
<p>The name of the elbe-bootstrap package.<br>
All package sources mentioned in the XML file are scanned for this package.<br>
It provides the debian-installer kernel and initrd. This package is not<br>
hosted on official Debian mirrors. So it makes sense additional add the<br>
&lt;noauth/&gt; tag to the &lt;mirror&gt; section.</p>
</li>
<li>
<p>The <em>console</em> line needs special attention because it is different on<br>
  different emulation targets.<br>
(optional)</p>
</li>
<li>
<p>The <em>machine</em> tag contains the <em>-machine</em> parameter, that is provided to<br>
  qemu.<br>
(optional)</p>
</li>
<li>
<p><em>portforwarding</em> of network server ports from the virtual machine to the<br>
  host. This example forwards the ssh port to port 5022 on the host.<br>
(optional)</p>
</li>
<li>
<p>This is the list of packages that are only installed to the buildimage.<br>
   (The packages listed in the target sections pkg-list are installed to<br>
   the target image and the buildimage.) It can be used for example to<br>
   install the debian build server into the buildenvironment.<br>
(optional)</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The optional parameters are normaly set to defaults by the buildtype tag.<br>
The tags can be used for advanced use of elbe; to override the defaults.</p>
</div>
<div class="paragraph">
<p>If the optional parameters are not set, the buildtype can even be overridden<br>
by the flag --buildtype at <em>elbe create</em> to build the same configuration for<br>
a different architecture</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>	&lt;target&gt;
		&lt;hostname&gt;myARM&lt;/hostname&gt;			<b class="conum">(1)</b>
		&lt;domain&gt;tec.linutronix.de&lt;/domain&gt;		<b class="conum">(2)</b>
		&lt;passwd&gt;foo&lt;/passwd&gt;				<b class="conum">(3)</b>
		&lt;console&gt;ttyS0,115200&lt;/console&gt;
		&lt;package&gt;
			&lt;tar&gt;
				&lt;name&gt;nfsroot.tar.gz&lt;/name&gt;	<b class="conum">(4)</b>
			&lt;/tar&gt;
		&lt;/package&gt;
		&lt;finetuning&gt;					<b class="conum">(5)</b>
		&lt;/finetuning&gt;
		&lt;pkg-list&gt;					<b class="conum">(6)</b>
			&lt;pkg&gt;build-essential&lt;/pkg&gt;
			&lt;pkg&gt;bash&lt;/pkg&gt;
			&lt;pkg&gt;less&lt;/pkg&gt;
			&lt;pkg&gt;git&lt;/pkg&gt;
			&lt;pkg&gt;debhelper&lt;/pkg&gt;
			&lt;pkg&gt;nfs-common&lt;/pkg&gt;
			&lt;pkg&gt;openssh-server&lt;/pkg&gt;
		&lt;/pkg-list&gt;
	&lt;/target&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The hostname</p>
</li>
<li>
<p>and domainname</p>
</li>
<li>
<p>This is the root password of the machine.</p>
</li>
<li>
<p>This describes, that the resulting rootfilesystem, shall be generated as<br>
<em>nfsroot.tar.gz</em></p>
</li>
<li>
<p>finetuning section can be empty. If you need finetuning it can be defined<br>
here. The format of this tag is explained above.</p>
</li>
<li>
<p>The package list resides here.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="building-ubi-images">Building ubi images</h3>
<div class="paragraph">
<p>Elbe also has the ability to generate ubi images, including different<br>
partitions and mountpoints. Lets look at an example <em>target</em> section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;target&gt;
	&lt;hostname&gt;myARM&lt;/hostname&gt;
	&lt;domain&gt;tec.linutronix.de&lt;/domain&gt;
	&lt;passwd&gt;foo&lt;/passwd&gt;
	&lt;console&gt;ttyS0,115200&lt;/console&gt;

	&lt;images&gt;
		&lt;mtd&gt;
			&lt;name&gt;linux.img&lt;/name&gt;			<b class="conum">(1)</b>
			&lt;nr&gt;0&lt;/nr&gt;
			&lt;size&gt;60MB&lt;/size&gt;
			&lt;ubivg&gt;
				&lt;label&gt;nand&lt;/label&gt;
				&lt;miniosize&gt;2048&lt;/miniosize&gt;	<b class="conum">(2)</b>
				&lt;maxlogicaleraseblockcount&gt;1533&lt;/maxlogicaleraseblockcount&gt;
				&lt;logicaleraseblocksize&gt;126976&lt;/logicaleraseblocksize&gt;
				&lt;physicaleraseblocksize&gt;128KiB&lt;/physicaleraseblocksize&gt;
				&lt;ubi&gt;				<b class="conum">(3)</b>
					&lt;type&gt;static&lt;/type&gt;
					&lt;label&gt;kernel&lt;/label&gt;
					&lt;id&gt;0&lt;/id&gt;
					&lt;size&gt;4MiB&lt;/size&gt;
					&lt;binary&gt;/boot/vmlinuz-2.6.33.9-rt31&lt;/binary&gt;
				&lt;/ubi&gt;
				&lt;ubi&gt;
					&lt;type&gt;dynamic&lt;/type&gt;
					&lt;label&gt;rfs&lt;/label&gt;
					&lt;id&gt;1&lt;/id&gt;
					&lt;size&gt;26MiB&lt;/size&gt;
				&lt;/ubi&gt;
				&lt;ubi&gt;
					&lt;type&gt;dynamic&lt;/type&gt;
					&lt;label&gt;data&lt;/label&gt;
					&lt;id&gt;2&lt;/id&gt;
					&lt;size&gt;30MiB&lt;/size&gt;
				&lt;/ubi&gt;
			&lt;/ubivg&gt;
		&lt;/mtd&gt;
	&lt;/images&gt;

	&lt;fstab&gt;							<b class="conum">(4)</b>
		&lt;bylabel&gt;					<b class="conum">(5)</b>
			&lt;label&gt;data&lt;/label&gt;
			&lt;mountpoint&gt;/opt&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;ubifs&lt;/type&gt;
				&lt;mkfs&gt;-x lzo&lt;/mkfs&gt;
			&lt;/fs&gt;
			&lt;options&gt;rw&lt;/options&gt;
		&lt;/bylabel&gt;
		&lt;bylabel&gt;
			&lt;label&gt;rfs&lt;/label&gt;
			&lt;mountpoint&gt;/&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;ubifs&lt;/type&gt;
				&lt;mkfs&gt;-x lzo&lt;/mkfs&gt;
			&lt;/fs&gt;
			&lt;options&gt;ro&lt;/options&gt;
		&lt;/bylabel&gt;
		&lt;bydev&gt;						<b class="conum">(6)</b>
			&lt;source&gt;proc&lt;/source&gt;
			&lt;mountpoint&gt;/proc&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;proc&lt;/type&gt;
			&lt;/fs&gt;
		&lt;/bydev&gt;
		&lt;bydev&gt;
			&lt;source&gt;sysfs&lt;/source&gt;
			&lt;mountpoint&gt;/sys&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;sysfs&lt;/type&gt;
			&lt;/fs&gt;
		&lt;/bydev&gt;
		&lt;bydev&gt;
			&lt;source&gt;tmpfs&lt;/source&gt;
			&lt;mountpoint&gt;/tmp&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;tmpfs&lt;/type&gt;
			&lt;/fs&gt;
			&lt;options&gt;size=2M&lt;/options&gt;
		&lt;/bydev&gt;
		&lt;bydev&gt;
			&lt;source&gt;tmpfs&lt;/source&gt;
			&lt;mountpoint&gt;/var/log&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;tmpfs&lt;/type&gt;
			&lt;/fs&gt;
			&lt;options&gt;size=4M&lt;/options&gt;
		&lt;/bydev&gt;
		&lt;bydev&gt;
			&lt;source&gt;tmpfs&lt;/source&gt;
			&lt;mountpoint&gt;/var/run&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;tmpfs&lt;/type&gt;
			&lt;/fs&gt;
			&lt;options&gt;size=2M&lt;/options&gt;
		&lt;/bydev&gt;
	&lt;/fstab&gt;

	&lt;finetuning&gt;
	&lt;/finetuning&gt;
	&lt;pkg-list&gt;
		&lt;pkg&gt;dash&lt;/pkg&gt;
	&lt;/pkg-list&gt;
&lt;/target&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This specifies an mtd image with 60MB size whose filename is linux.img</p>
</li>
<li>
<p>Parameters for the ubi tools, describing the NAND geometry.</p>
</li>
<li>
<p>Specification of ubi volumes.</p>
</li>
<li>
<p>specifies the fstab, so that everything can be copied to the right image.</p>
</li>
<li>
<p>Normal partition entries are by label.</p>
</li>
<li>
<p>The target /etc/fstab file is created with the entries defined in this section.<br>
Entries for <em>/proc</em>, <em>/sys</em> etc. can be generated with <em>bydev</em> nodes.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="building-harddisk-sdcard-images">Building harddisk / sdcard images</h3>
<div class="paragraph">
<p>Elbe also has the ability to generate ubi images, including different<br>
partitions and mountpoints. Lets look at an example <em>target</em> section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	&lt;images&gt;
		&lt;hd&gt;
			&lt;name&gt;sda.img&lt;/name&gt;			<b class="conum">(1)</b>
			&lt;size&gt;1900&lt;/size&gt;			<b class="conum">(2)</b>
			&lt;partitions&gt;				<b class="conum">(3)</b>
				&lt;primary&gt;
					&lt;part&gt;1&lt;/part&gt;
					&lt;size&gt;remain&lt;/size&gt;
					&lt;label&gt;rfs&lt;/label&gt;	<b class="conum">(4)</b>
					&lt;parttype&gt;linux&lt;/parttype&gt;
				&lt;/primary&gt;
			&lt;/partitions&gt;
		&lt;/hd&gt;
		&lt;hd&gt;
			&lt;name&gt;sdb.img&lt;/name&gt;			<b class="conum">(1)</b>
			&lt;size&gt;400&lt;/size&gt;			<b class="conum">(2)</b>
			&lt;partitions&gt;				<b class="conum">(3)</b>
				&lt;primary&gt;
					&lt;part&gt;1&lt;/part&gt;
					&lt;size&gt;remain&lt;/size&gt;
					&lt;label&gt;config&lt;/label&gt;	<b class="conum">(4)</b>
					&lt;parttype&gt;linux&lt;/parttype&gt;
				&lt;/primary&gt;
			&lt;/partitions&gt;
		&lt;/hd&gt;
	&lt;/images&gt;
	&lt;fstab&gt;							<b class="conum">(5)</b>
		&lt;bylabel&gt;
			&lt;label&gt;rfs&lt;/label&gt;			<b class="conum">(4)</b>
			&lt;mountpoint&gt;/&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;ext4&lt;/type&gt;
			&lt;/fs&gt;
		&lt;/bylabel&gt;
		&lt;bylabel&gt;
			&lt;label&gt;config&lt;/label&gt;			<b class="conum">(4)</b>
			&lt;mountpoint&gt;/mnt/config&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;ext4&lt;/type&gt;
			&lt;/fs&gt;
			&lt;options&gt;ro&lt;/options&gt;
		&lt;/bylabel&gt;
		&lt;bydev&gt;
			&lt;source&gt;none&lt;/source&gt;
			&lt;mountpoint&gt;/sys/kernel/debug&lt;/mountpoint&gt;
			&lt;fs&gt;
				&lt;type&gt;debug&lt;/type&gt;
			&lt;/fs&gt;
		&lt;/bydev&gt;
	&lt;/fstab&gt;</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>this specifies an hd image</p>
</li>
<li>
<p>size of a hd image</p>
</li>
<li>
<p>Specification of ubi volumes.</p>
</li>
<li>
<p>labels are used to assign mountpoints to partitions</p>
</li>
<li>
<p>The target /etc/fstab file is created with the entries defined in this section.<br>
Entries for <em>/proc</em>, <em>/sys</em> etc. can be generated with <em>bydev</em> nodes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A complete reference that is automatically generated from the schema file is<br>
also available.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="elbe-init-detailed-explanation">Elbe init (detailed Explanation)</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><code>elbe init</code> is now considered a low-level command for advanced Users.<br>
Under normal circumstances <code>elbe initvm</code> should be used.<br>
This paragraph is kept for reference.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <em>elbe init</em> command generates a project directory, which contains a hard<br>
disk image for a virtual build machine and a <em>Makefile</em> to install the build<br>
VM and to work with it.</p>
</div>
<div class="paragraph">
<p>During this process, <em>elbe init</em> will search the package repos mentioned in the<br>
mirror section of the XML file for the elbe-bootstrap package, which includes<br>
the debian-installer. You can use the packages provided by Linutronix from<br>
<a href="http://debian.linutronix.de/elbe" class="bare">http://debian.linutronix.de/elbe</a> by adding this url to the mirror section.</p>
</div>
<div class="paragraph">
<p>After <em>elbe init</em> has generated the project directory, change to the<br>
project directory and run <em>make</em>. This will start the installation of the<br>
build VM.</p>
</div>
</div>
</div>
      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
        
      
			<li><a href="https://elbe-rfs.org" ></a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">
		&#169; 2016
		<a href="https://elbe-rfs.org">ELBE</a> by
		<a href="https://linutronix.de">Linutronix GmbH</a> -
		ELBE is not affiliated with Debian, Debian is a registered trademark owned by SPI
	</p>
</footer>



    </div>

    <script src="https://elbe-rfs.org/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="https://elbe-rfs.org/js/main.js"></script>

  </body>

</html>
